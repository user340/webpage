

第43回FREEBSDワークショップ


開催背景 佐藤広生（東京工業大学）

日本国内の*BSDユーザ活動を活発化させましょう。

-   月1回、東京近辺で定期的な会合を。
-   講演を聞くだけでなく、話を持ち寄って双方向に議論しましょう。
-   困ったことや要望などはなるべく拾っていきます。


自己紹介

-   iohyveを動かすbhyveのプロセスがpgrepで見つからない（HEAD）。
-   topコマンドを使っていると、idleの値が更新されないときがある（HEAD）。

      -   topは最近壊れたかも。

-   開発環境としてFreeBSDを整えたい。

      -   MS Visual Studio CodeをFreeBSDで動かしたい。
      -   Jailの中でGitLabを上げたら（主にメモリが）しんどかった。

-   最近はXenが動かなくなった。
-   IPSecが動かなくなった（数週間前）。


iocageを使ってみよう 内藤裕一郎（創夢）

iocage --
jailを管理するツール。役割としてはezjailと同じ。ZFSとPython-3.6が必要。

  jailのloginとjexecどっちがいい？

      jexecは「セッション」の概念がない
      loginもシリアルコンソールで入ったときのようにログインプロンプトが出てほしい。

jailの自動起動もできる。/etc/jail.confは使っていない。

ホストのネットワークインタフェースはすべて見えるように設定される。

ファイル名を変えてiocage importすると管理が面倒。

別アーキテクチャのjailは作れない（iocageはサポートしていない）。

>
Jailはネットワーク自体にクセがある。特にIPv6。1コンテナにつきIPアドレスひとつというポリシーを無理やり拡張したので面倒。

vimage

epairを使う。

Linux
Jailは管理が面倒。でもbhyveは重い。Linuxエミュレーションのユーザが少ない。

iohyve -- ZFSありきのbhyve管理ツール

FreeBSD
13.0でLinuxのinotifyシステムコールのエミュレートがサポートされる？噂


ディスカッション

FreeBSDはどういう風に使われてどういう機能が期待されているか？どういう位置づけのOSか？

配信系（映像・メール・ショートメッセージ）のサーバで使われる場合が多い。しかし技術的な優位性は考えても仕方がない。ソフトウェアが多少タコでもハードウェアで叩けるので……。動いていればみんな文句言わない。

強い訴求力があるわけではない。

ZFSはちゃんと動いてちゃんとスケールするからFreeBSDが使われる。小型のアプライアンス。ストレージ系のLinuxはコードが出回らない。

クラウド基盤として使ってほしいという希望がFreeBSD側からある。OpenStackやDocker関係の人はお金がどうこうで……。下（Dockerなどが動く基盤）がどうなってようが構わない。技術的にどうこうではない。

仮想のルータが欲しい時にpfがほしい場面でFreeBSD

組み込み（漠然）ではあまり使われていない。FreeBSDはあまりインセンティブがない。ラズパイで動かしても落ちるから仕事では使いづらい。Linuxのほうがずっと安定している。

FreeBSDをビジネスで使っている・使いそう・使うのをやめた会社に聞いて回っている。「これがあったら使うんだけど……」も欲しい。

魔改造ルータ系はNetBSD

フロントエンド系はNode
JSが動けばなんでもいいという世界なので裏はなんでもいい。
