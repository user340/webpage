<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<style>
@media print, screen and (min-width:640px){
*{max-width:40em;}
code{font-size:90%; line-height:1.4;}
body{margin-top:5em; margin-bottom:5em; margin-right:2em; margin-left:3em; line-height:1.5;}
pre{padding-top:1em; padding-left:2em; padding-right:2em; padding-bottom:1em; line-height:0; border:solid 1px; border-radius:1em; white-space:pre-wrap;}}
@media only screen and (max-width:640px){*{max-width:100%; width:100%;}}
</style>
<title>e-yuuki.org</title>
</head>
<body>
<h1>NetBSD on ThinkPad</h1>
<hr>
<ol>
<li><a href="#X60s">X60s</a></li>
<li><a href="#X201i">X201i</a></li>
<li><a href="#X230i">X230i</a></li>
<ol>
<li><a href="#X230i/display">ディスプレイ拡張</a></li>
<li><a href="#X230i/trackpoint">トラックポイント</a></li>
<li><a href="#X230i/touchpad">タッチパッド</a></li>
<li><a href="#X230i/if">ネットワークインタフェース</a></li>
</ol>
</ol>

<h2 id="X60s">X60s</h2>
<p>ハードウェアによっては無線ネットワークインタフェースが見えない。</p>

<h2 id="X201i">X201i</h2>
<p>NetBSD 7.1/amd64ではシャットダウンするときpanicしてしまうため、再起動が続き電源をオフにできない。NetBSD 7.1.1以降は未検証。</p>

<h2 id="X230i">X230i</h2>

<h3 id="X230i/display">ディスプレイ拡張</h3>
<p>D-Subは問題なく使える。 HDMIポートがないためMiniDisplayPortを通じておこなわなければならないが、下記のようなメッセージがコンソールに出力され、ディスプレイ拡張ができない。</p>
<pre><code>DRM error in intel_dp_set_link_train: DP training pattern 3 not supported
DRM error in intel_dp_set_link_train: DP training pattern 3 not supported
DRM error in intel_dp_set_link_train: DP training pattern 3 not supported
DRM error in intel_dp_set_link_train: DP training pattern 3 not supported
DRM error in intel_dp_set_link_train: DP training pattern 3 not supported
DRM error in intel_dp_set_link_train: DP training pattern 3 not supported
DRM error in intel_dp_complete_link_train: failed to train DP, aborting</code></pre>
    
<h3 id="X230i/trackpoint">トラックポイント</h3>
<p>中クリックをしながらトラックポイントを動かしてページをスクロールするには、/etc/X11/xorg.confのInputDeviceセクションに以下を書く。</p>
<pre><code>Option     "EmulateWheel" "true"
Option     "EmulateWheelButton" "2"
Option     "YAxisMapping" "4 5"
Option     "XAxisMapping" "6 7"</code></pre>

<h3 id="X230i/touchpad">タッチパッド</h3>
タッチパッドを無効化するにはBIOSから設定をおこなう。

<h3 id="X230i/if">ネットワークインタフェース</h3>
<p>ifconfig(8)の出力は以下の通り。</p><pre><code>wm0: flags=8802<BROADCAST,SIMPLEX,MULTICAST> mtu 1500
	capabilities=7ff80<TSO4,IP4CSUM_Rx,IP4CSUM_Tx,TCP4CSUM_Rx>
	capabilities=7ff80<TCP4CSUM_Tx,UDP4CSUM_Rx,UDP4CSUM_Tx,TCP6CSUM_Rx>
	capabilities=7ff80<TCP6CSUM_Tx,UDP6CSUM_Rx,UDP6CSUM_Tx,TSO6>
	enabled=0
	ec_capabilities=7<VLAN_MTU,VLAN_HWTAGGING,JUMBO_MTU>
	ec_enabled=0
	address: 3c:97:0e:97:cd:f8
	media: Ethernet autoselect (none)
	status: no carrier
iwn0: flags=8843<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500
	ssid SPWH_H32_F09503 nwkey *****
	powersave off
	bssid 5c:c3:07:f0:95:03 chan 8
	address: 6c:88:14:69:12:b8
	media: IEEE802.11 autoselect (OFDM48 mode 11g)
	status: active
	inet 192.168.100.102 netmask 0xffffff00 broadcast 192.168.100.255
	inet6 fe80::7a4b:4c6b:8e9a:8ec8%iwn0 prefixlen 64 scopeid 0x2
	inet6 2001:268:c142:811b:a7de:26ec:9af9:bdcb prefixlen 64
lo0: flags=8049<UP,LOOPBACK,RUNNING,MULTICAST> mtu 33624
	inet 127.0.0.1 netmask 0xff000000
	inet6 ::1 prefixlen 128
	inet6 fe80::1%lo0 prefixlen 64 scopeid 0x3</code></pre>
<hr>
<footer>
<address>Yuuki Enomoto <a href="mailto:uki@e-yuuki.org">uki@e-yuuki.org</a></address>
<p><small>Copyright (C) 2015,2016,2017,2018 Yuuki Enomoto</small></p>
</footer>
</body>
</html>

