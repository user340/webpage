<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<style>
@media print, screen and (min-width:640px){
code{line-height:1.4;}
.inner{margin: auto auto; line-height:1.75; letter-spacing:0.05em;width:38em;text-align: justify; text-justify: inter-ideograph;}
pre{padding-top:1em; padding-left:2em; padding-right:2em; padding-bottom:1em; line-height:0; border:solid 1px; border-radius:1em; white-space:pre-wrap;}}
@media only screen and (max-width:640px){.inner{font-size:80%; margin:auto auto; line-height:1.75; letter-spacing:0.05em; width:25em; text-align:justify; text-justify: inter-ideograph;} pre{padding-top:1em; padding-left:2em; padding-right:2em; padding-bottom:1em; line-height:0; border:solid 1px; border-radius:1em; white-space:pre-wrap;} code{font-size:70%; line-height:1.4;}}
</style>
<title>e-yuuki.org</title>
</head>
<body><div class="inner">
<h1>デスクトップ環境の作り方</h1>
<hr>
<h2>なぜ作り方を知っておくと良いのか</h2>
<p>
雑な言い方をしてしまえば、GNOMEやKDEまたはXfce4のような統合デスクトップ環境を
使うのが一番手っ取り早いし機能も豊富だと思う。一方でこれらの「てんこ盛り」な
環境をインストールしても、たいしてUnixの訓練にはならないとも思う。
なぜならインストール方法も使い方も簡単すぎて特にこれといって知識やノウハウを
入出力できないからだ（当然、使い方が簡単すぎるというのは技術やUIの偉大な進歩の
結果である）。
</p>

<p>
だから日常生活で使うに耐えるデスクトップ環境を作るには何をインストールして
どう設定すればいいのかを覚えるには、統合デスクトップ環境を使うよりもひとつひとつ
パッケージをインストールして設定する他ない。
また稀なケースとして、マシンスペックがあまりにも低すぎて
Xfce4ですらまともに動かないこともあるだろう。
こんな事態に直面したとき統合デスクトップ環境以外知らなければ話にならない
（こんなケースそのものが話にならない極限環境ではあるけれど）。
</p>

<p>
ある程度デスクトップ環境の作り方を把握し、デスクトップ環境の要素を抑えておけば
いざというときに役に立つ。そのいざというときは前述したような極限環境下で
作業せざるを得ないときかもしれないし、最小構成でインストールされた
GNU/Linuxの上でデスクトップ環境を作りたくなったときとか、そもそもインストーラが
デスクトップ環境を提供していないOSを使うときかもしれない。
知っていると知っていないとでは大違いだ。
</p>

<h2>GUI環境に必要なソフトウェア</h2>

<p>
「デスクトップ環境」になにが必要であるかはユーザに強く依存する。
Webブラウザさえあれば十分というユーザもいれば、
動画編集ソフトウェアが不可欠なユーザもいる。
様々なニーズをすべて包括したデスクトップ環境を用意するのは難しい。
そこで、ここではマウスを使ってウィンドウを自在に動かせられるグラフィカルな環境
（GUI）を用意するにはなにをインストールすればいいのかのみ説明する。
</p>

<h3>NetBSDのX</h3>

<p>
NetBSD 8.0ではベースシステムでGUI環境が提供されている。
以下のtarballをインストール時に選択するか、FTPサーバからダウンロードして
ルートディレクトリに展開する。
</p>

<ul>
<li>xbase.tgz</li>
<li>xetc.tgz</li>
<li>xfont.tgz</li>
<li>xserver.tgz</li>
</ul>

<h3>/etc/X11/xorg.conf</h3>

<p>
X11はサーバとクライアントが分離しており、Xサーバが動くマシン上で
Xクライアントのソフトウェア（FirefoxやThunderbirdなど）が描画される。
<code>xorg.conf(5)</code>はXサーバの設定ファイルだ。
</p>

<p>
もっとも、これをゼロから書くわけではない。ユーザは<code>xorg.conf(5)</code>を
自動で生成する<code>Xorg(1)</code>の<code>-configure</code>オプションを実行し、
ディスプレイの拡張時やマウスの設定など、必要なときだけ設定ファイルを編集する。
このコマンドを実行すると、rootユーザのホームディレクトリにxorg.conf.newという
ファイルが作られているので、それを/etc/X11ディレクトリの下に移動させる。
</p>

<pre><code># X -configure
# mv /root/xorg.conf.new /etc/X11/xorg.conf</code></pre>

<h3>ウィンドウマネージャ</h3>


<h3>$HOME/xinitrc</h3>
<hr>
<footer>
<p xmlns:dct="https://purl.org/dc/terms/" xmlns:vcard="https://www.w3.org/2001/vcard-rdf/3.0#">
<a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/"> <div align="center"><img src="https://i.creativecommons.org/p/zero/1.0/88x31.png" style="border-style: none;" alt="CC0" /></div></a>
<br />
To the extent possible under law, <a rel="dct:publisher" href="https://e-yuuki.org"> <span property="dct:title">Yuuki Enomoto</span></a> has waived all copyright and related or neighboring rights to <span property="dct:title">e-yuuki.org</span>. This work is published from: <span property="vcard:Country" datatype="dct:ISO3166" content="JP" about="https://e-yuuki.org">Japan</span>.
</p>
</footer>
</div></body>
</html>
